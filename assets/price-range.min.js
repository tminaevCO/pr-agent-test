(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var a=0;a<t.length;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,n(u.key),u)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var u=a.call(t,n||"default");if("object"!=e(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function a(t,n,a){return n=o(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,r()?Reflect.construct(n,a||[],o(t).constructor):n.apply(t,a))}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var u=new(e.bind.apply(e,a));return n&&i(u,n.prototype),u}(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},u(e)}function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(r=function(){return!!e})()}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}if(void 0===customElements.get("price-range")){var l=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=a(this,n)).sortingDropdown=null,e.minRange=null,e.maxRange=null,e.minValueInput=null,e.maxValueInput=null,e.track=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(n,e),u=n,(r=[{key:"validateInput",value:function(e){e.value=e.value.replace(/[^0-9.]/g,"");var t=e.value;if(t.startsWith("0")&&t.length>1&&!t.startsWith("0.")&&(e.value=t.substring(1)),((t.match(/\./g)||[]).length>1||0===t.indexOf("."))&&(e.value=t.slice(0,-1)),t.includes(".")){var n=t.split(".");n[1].length>2&&(e.value=n[0]+"."+n[1].substring(0,2))}var a=parseFloat(e.value),u=parseFloat(e.getAttribute("min")),r=parseFloat(e.getAttribute("max"));isNaN(a)||a<u?e.value=u.toFixed(2):a>r&&(e.value=r.toFixed(2))}},{key:"updateTrack",value:function(){var e=parseFloat(this.minRange.value),t=parseFloat(this.maxRange.value),n=parseFloat(this.minRange.max),a=e/n*100,u=t/n*100;this.track.style.left=a+"%",this.track.style.width=u-a+"%"}},{key:"updateInputs",value:function(){this.minValueInput.value=parseFloat(this.minRange.value).toFixed(2),this.maxValueInput.value=parseFloat(this.maxRange.value).toFixed(2);var e=new Event("input");this.updateTrack(),this.minValueInput.dispatchEvent(e),this.maxValueInput.dispatchEvent(e)}},{key:"initListeners",value:function(){var e=this;this.minRange&&(this.minRange.addEventListener("input",(function(){parseInt(e.minRange.value)>parseInt(e.maxRange.value)&&(e.minRange.value=e.maxRange.value),e.updateInputs()})),this.minRange.addEventListener("change",(function(){e.minValueInput.value=parseFloat(e.minRange.value).toFixed(2),e.minValueInput.dispatchEvent(new Event("change"))}))),this.maxRange&&(this.maxRange.addEventListener("input",(function(){parseInt(e.maxRange.value)<parseInt(e.minRange.value)&&(e.maxRange.value=e.minRange.value),e.updateInputs()})),this.maxRange.addEventListener("change",(function(){e.maxValueInput.value=parseFloat(e.maxRange.value).toFixed(2),e.maxValueInput.dispatchEvent(new Event("change"))}))),this.minValueInput&&this.minValueInput.addEventListener("input",(function(){e.validateInput(e.minValueInput),e.minRange.value=e.minValueInput.value,parseInt(e.minValueInput.value)>parseInt(e.maxValueInput.value)&&(e.maxValueInput.value=e.minValueInput.value,e.maxRange.value=e.minValueInput.value),e.updateTrack()})),this.maxValueInput&&this.maxValueInput.addEventListener("input",(function(){e.validateInput(e.maxValueInput),e.maxRange.value=e.maxValueInput.value,parseInt(e.maxValueInput.value)<parseInt(e.minValueInput.value)&&(e.minValueInput.value=e.maxValueInput.value,e.minRange.value=e.maxValueInput.value),e.updateTrack()})),this.updateTrack()}},{key:"init",value:function(){this.minRange=this.querySelector("#minRange"),this.maxRange=this.querySelector("#maxRange"),this.minValueInput=this.querySelector(".filter-group-display__price-range-from"),this.maxValueInput=this.querySelector(".filter-group-display__price-range-to"),this.track=this.querySelector("#price-range-track"),this.initListeners()}},{key:"connectedCallback",value:function(){var e=this;document.addEventListener("DOMContentLoaded",(function(){e.init()}))}}])&&t(u.prototype,r),o&&t(u,o),Object.defineProperty(u,"prototype",{writable:!1}),u;var u,r,o}(u(HTMLElement));customElements.define("price-range",l),document.addEventListener("shopify:section:load",(function(e){e.target.querySelector("price-range")&&e.target.querySelector("price-range").init()}))}})();